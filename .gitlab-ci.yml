stages:
  - test
  - deploy

pages:
  stage: deploy
  script:
    - mkdir .public
    - cp -r ./public/* .public
    - mv .public public
  artifacts:
    paths:
      - public
  only:
    - master
  rules:
    changes:
      - public/**

static_validation:
  stage: test
  image: donran/pizza-docker:latest
  script:
    - ./scripts/validators/css_validator.sh public
    - ./scripts/validators/html_validator.sh public

